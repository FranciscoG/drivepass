(function(){function a(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function b(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(h>g||"undefined"==typeof h)return-1}}return a.index-b.index}function c(a){return"\\"+vc[a]}function d(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function e(a){return a instanceof e?a:new f(a)}function f(a,b){this.__chain__=!!b,this.__wrapped__=a}function g(a){function b(){if(e){var a=d(e);Jc.apply(a,arguments)}if(this instanceof b){var g=h(c.prototype),i=c.apply(g,a||arguments);return J(i)?i:g}return c.apply(f,a||arguments)}var c=a[0],e=a[2],f=a[4];return b}function h(a){return J(a)?Lc(a):{}}function i(a,b,c){if("function"!=typeof a)return Sb;if("undefined"==typeof b||!("prototype"in a))return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Fb(a,b)}function j(a){function b(){var a=l?i:this;if(f){var q=d(f);Jc.apply(q,arguments)}if((g||n)&&(q||(q=d(arguments)),g&&Jc.apply(q,g),n&&q.length<k))return e|=16,j([c,o?e:-4&e,q,null,i,k]);if(q||(q=arguments),m&&(c=a[p]),this instanceof b){a=h(c.prototype);var r=c.apply(a,q);return J(r)?r:a}return c.apply(a,q)}var c=a[0],e=a[1],f=a[2],g=a[3],i=a[4],k=a[5],l=1&e,m=2&e,n=4&e,o=8&e,p=c;return b}function k(a,b){for(var c=-1,d=s(),e=a?a.length:0,f=[];++c<e;){var g=a[c];d(b,g)<0&&f.push(g)}return f}function l(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Uc(h)||v(h))){b||(h=l(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function m(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;var f=typeof a,g=typeof b;if(!(a!==a||a&&uc[f]||b&&uc[g]))return!1;if(null==a||null==b)return a===b;var h=Ec.call(a),i=Ec.call(b);if(h!=i)return!1;switch(h){case nc:case oc:return+a==+b;case qc:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case sc:case tc:return a==String(b)}var j=h==mc;if(!j){var k=a instanceof e,l=b instanceof e;if(k||l)return m(k?a.__wrapped__:a,l?b.__wrapped__:b,c,d);if(h!=rc)return!1;var n=a.constructor,o=b.constructor;if(n!=o&&!(I(n)&&n instanceof n&&I(o)&&o instanceof o)&&"constructor"in a&&"constructor"in b)return!1}c||(c=[]),d||(d=[]);for(var p=c.length;p--;)if(c[p]==a)return d[p]==b;var q=!0,r=0;if(c.push(a),d.push(b),j){if(r=b.length,q=r==a.length)for(;r--&&(q=m(a[r],b[r],c,d)););}else _c(b,function(b,e,f){return Ic.call(f,e)?(r++,!(q=Ic.call(a,e)&&m(a[e],b,c,d))&&gc):void 0}),q&&_c(a,function(a,b,c){return Ic.call(c,b)?!(q=--r>-1)&&gc:void 0});return c.pop(),d.pop(),q}function n(a,b){return a+Hc(Sc()*(b-a+1))}function o(a,b,c){for(var d=-1,e=s(),f=a?a.length:0,g=[],h=c?[]:g;++d<f;){var i=a[d],j=c?c(i,d,a):i;(b?!d||h[h.length-1]!==j:e(h,j)<0)&&(c&&h.push(j),g.push(i))}return g}function p(a){return function(b,c,d){var e={};c=Qb(c,d,3);var f=-1,g=b?b.length:0;if("number"==typeof g)for(;++f<g;){var h=b[f];a(e,h,c(h,f,b),b)}else ad(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function q(a,b,c,d,e,f){var h=2&b,i=16&b,k=32&b;if(!h&&!I(a))throw new TypeError;i&&!c.length&&(b&=-17,i=c=!1),k&&!d.length&&(b&=-33,k=d=!1);var l=1==b||17===b?g:j;return l([a,b,c,d,e,f])}function r(a){return Xc[a]}function s(){var b=(b=e.indexOf)===rb?a:b;return b}function t(a){return"function"==typeof a&&Fc.test(a)}function u(a){return Yc[a]}function v(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ec.call(a)==lc||!1}function w(a){if(!a)return a;for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];if(d)for(var e in d)a[e]=d[e]}return a}function x(a){return J(a)?Uc(a)?d(a):w({},a):a}function y(a){if(!a)return a;for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];if(d)for(var e in d)"undefined"==typeof a[e]&&(a[e]=d[e])}return a}function z(a){var b=[];return _c(a,function(a,c){I(a)&&b.push(c)}),b.sort()}function A(a,b){return a?Ic.call(a,b):!1}function B(a){for(var b=-1,c=Wc(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function C(a){return a===!0||a===!1||a&&"object"==typeof a&&Ec.call(a)==nc||!1}function D(a){return a&&"object"==typeof a&&Ec.call(a)==oc||!1}function E(a){return a&&1===a.nodeType||!1}function F(a){if(!a)return!0;if(Uc(a)||O(a))return!a.length;for(var b in a)if(Ic.call(a,b))return!1;return!0}function G(a,b){return m(a,b)}function H(a){return Nc(a)&&!Oc(parseFloat(a))}function I(a){return"function"==typeof a}function J(a){return!(!a||!uc[typeof a])}function K(a){return M(a)&&a!=+a}function L(a){return null===a}function M(a){return"number"==typeof a||a&&"object"==typeof a&&Ec.call(a)==qc||!1}function N(a){return a&&uc[typeof a]&&Ec.call(a)==sc||!1}function O(a){return"string"==typeof a||a&&"object"==typeof a&&Ec.call(a)==tc||!1}function P(a){return"undefined"==typeof a}function Q(a){var b=[];_c(a,function(a,c){b.push(c)}),b=k(b,l(arguments,!0,!1,1));for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];e[f]=a[f]}return e}function R(a){for(var b=-1,c=Wc(a),d=c.length,e=Array(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function S(a){for(var b=-1,c=l(arguments,!0,!1,1),d=c.length,e={};++b<d;){var f=c[b];f in a&&(e[f]=a[f])}return e}function T(a){for(var b=-1,c=Wc(a),d=c.length,e=Array(d);++b<d;)e[b]=a[c[b]];return e}function U(a,b){var c=s(),d=a?a.length:0,e=!1;return d&&"number"==typeof d?e=c(a,b)>-1:ad(a,function(a){return(e=a===b)&&gc}),e}function V(a,b,c){var d=!0;b=Qb(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&(d=!!b(a[e],e,a)););else ad(a,function(a,c,e){return!(d=!!b(a,c,e))&&gc});return d}function W(a,b,c){var d=[];b=Qb(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else ad(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function X(a,b,c){b=Qb(b,c,3);var d=-1,e=a?a.length:0;if("number"!=typeof e){var f;return ad(a,function(a,c,d){return b(a,c,d)?(f=a,gc):void 0}),f}for(;++d<e;){var g=a[d];if(b(g,d,a))return g}}function Y(a,b){return mb(a,b,!0)}function Z(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:i(b,c,3),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==gc;);else ad(a,b)}function $(a,b){var c=a?a.length:0;if("number"==typeof c)for(;c--&&b(a[c],c,a)!==!1;);else{var d=Wc(a);c=d.length,ad(a,function(a,e,f){return e=d?d[--c]:--c,b(f[e],e,f)===!1&&gc})}}function _(a,b){var c=d(arguments,2),e=-1,f="function"==typeof b,g=a?a.length:0,h=Array("number"==typeof g?g:0);return Z(a,function(a){h[++e]=(f?b:a[b]).apply(a,c)}),h}function ab(a,b,c){var d=-1,e=a?a.length:0;if(b=Qb(b,c,3),"number"==typeof e)for(var f=Array(e);++d<e;)f[d]=b(a[d],d,a);else f=[],ad(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function bb(a,b,c){var d=-1/0,e=d;"function"!=typeof b&&c&&c[b]===a&&(b=null);var f=-1,g=a?a.length:0;if(null==b&&"number"==typeof g)for(;++f<g;){var h=a[f];h>e&&(e=h)}else b=Qb(b,c,3),Z(a,function(a,c,f){var g=b(a,c,f);g>d&&(d=g,e=a)});return e}function cb(a,b,c){var d=1/0,e=d;"function"!=typeof b&&c&&c[b]===a&&(b=null);var f=-1,g=a?a.length:0;if(null==b&&"number"==typeof g)for(;++f<g;){var h=a[f];e>h&&(e=h)}else b=Qb(b,c,3),Z(a,function(a,c,f){var g=b(a,c,f);d>g&&(d=g,e=a)});return e}function db(a,b,c,d){if(!a)return c;var e=arguments.length<3;b=Qb(b,d,4);var f=-1,g=a.length;if("number"==typeof g)for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else ad(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function eb(a,b,c,d){var e=arguments.length<3;return b=Qb(b,d,4),$(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function fb(a,b,c){return b=Qb(b,c,3),W(a,function(a,c,d){return!b(a,c,d)})}function gb(a,b,c){if(a&&"number"!=typeof a.length&&(a=T(a)),null==b||c)return a?a[n(0,a.length-1)]:ec;var d=hb(a);return d.length=Rc(Qc(0,b),d.length),d}function hb(a){var b=-1,c=a?a.length:0,d=Array("number"==typeof c?c:0);return Z(a,function(a){var c=n(0,++b);d[b]=d[c],d[c]=a}),d}function ib(a){var b=a?a.length:0;return"number"==typeof b?b:Wc(a).length}function jb(a,b,c){var d;b=Qb(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&!(d=b(a[e],e,a)););else ad(a,function(a,c,e){return(d=b(a,c,e))&&gc});return!!d}function kb(a,c,d){var e=-1,f=a?a.length:0,g=Array("number"==typeof f?f:0);for(c=Qb(c,d,3),Z(a,function(a,b,d){g[++e]={criteria:[c(a,b,d)],index:e,value:a}}),f=g.length,g.sort(b);f--;)g[f]=g[f].value;return g}function lb(a){return Uc(a)?d(a):a&&"number"==typeof a.length?ab(a):T(a)}function mb(a,b,c){return c&&F(b)?ec:(c?X:W)(a,b)}function nb(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function ob(a){return k(a,l(arguments,!0,!0,1))}function pb(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=-1;for(b=Qb(b,c,3);++g<f&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a?a[0]:ec;return d(a,0,Rc(Qc(0,e),f))}function qb(a,b){return l(a,b)}function rb(b,c,d){if("number"==typeof d){var e=b?b.length:0;d=0>d?Qc(0,e+d):d||0}else if(d){var f=yb(b,c);return b[f]===c?f:-1}return a(b,c,d)}function sb(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=f;for(b=Qb(b,c,3);g--&&b(a[g],g,a);)e++}else e=null==b||c?1:b||e;return d(a,0,Rc(Qc(0,f-e),f))}function tb(){for(var a=[],b=-1,c=arguments.length;++b<c;){var d=arguments[b];(Uc(d)||v(d))&&a.push(d)}var e=a[0],f=-1,g=s(),h=e?e.length:0,i=[];a:for(;++f<h;)if(d=e[f],g(i,d)<0){for(var b=c;--b;)if(g(a[b],d)<0)continue a;i.push(d)}return i}function ub(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=f;for(b=Qb(b,c,3);g--&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a?a[f-1]:ec;return d(a,Qc(0,f-e))}function vb(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?Qc(0,d+c):Rc(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function wb(a,b,c){a=+a||0,c=+c||1,null==b&&(b=a,a=0);for(var d=-1,e=Qc(0,Gc((b-a)/c)),f=Array(e);++d<e;)f[d]=a,a+=c;return f}function xb(a,b,c){if("number"!=typeof b&&null!=b){var e=0,f=-1,g=a?a.length:0;for(b=Qb(b,c,3);++f<g&&b(a[f],f,a);)e++}else e=null==b||c?1:Qc(0,b);return d(a,e)}function yb(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?Qb(c,d,1):Sb,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function zb(){return o(l(arguments,!0,!0))}function Ab(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(c=Qb(c,d,3)),o(a,b,c)}function Bb(a){return k(a,d(arguments,1))}function Cb(){for(var a=-1,b=bb(ed(arguments,"length")),c=Array(0>b?0:b);++a<b;)c[a]=ed(arguments,a);return c}function Db(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Uc(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Eb(a,b){if(!I(b))throw new TypeError;return function(){return--a<1?b.apply(this,arguments):void 0}}function Fb(a,b){return arguments.length>2?q(a,17,d(arguments,2),null,b):q(a,1,null,null,b)}function Gb(a){for(var b=arguments.length>1?l(arguments,!0,!1,1):z(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=q(a[e],1,null,null,a)}return a}function Hb(){for(var a=arguments,b=a.length;b--;)if(!I(a[b]))throw new TypeError;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Ib(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!I(a))throw new TypeError;if(b=Qc(0,b)||0,c===!0){var n=!0;m=!1}else J(c)&&(n=c.leading,l="maxWait"in c&&(Qc(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var o=function(){var c=b-(fd()-g);if(0>=c){e&&clearTimeout(e);var l=j;e=i=j=ec,l&&(k=fd(),f=a.apply(h,d),i||e||(d=h=null))}else i=setTimeout(o,c)},p=function(){i&&clearTimeout(i),e=i=j=ec,(m||l!==b)&&(k=fd(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=fd(),h=this,j=m&&(i||!n),l===!1)var c=n&&!i;else{e||n||(k=g);var q=l-(g-k),r=0>=q;r?(e&&(e=clearTimeout(e)),k=g,f=a.apply(h,d)):e||(e=setTimeout(p,q))}return r&&i?i=clearTimeout(i):i||b===l||(i=setTimeout(o,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Jb(a){if(!I(a))throw new TypeError;var b=d(arguments,1);return setTimeout(function(){a.apply(ec,b)},1)}function Kb(a,b){if(!I(a))throw new TypeError;var c=d(arguments,2);return setTimeout(function(){a.apply(ec,c)},b)}function Lb(a,b){var c={};return function(){var d=b?b.apply(this,arguments):hc+arguments[0];return Ic.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}}function Mb(a){var b,c;if(!I(a))throw new TypeError;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Nb(a){return q(a,16,d(arguments,1))}function Ob(a,b,c){var d=!0,e=!0;if(!I(a))throw new TypeError;return c===!1?d=!1:J(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),c={},c.leading=d,c.maxWait=b,c.trailing=e,Ib(a,b,c)}function Pb(a,b){return q(b,16,[a])}function Qb(a,b,c){var d=typeof a;if(null==a||"function"==d)return i(a,b,c);if("object"!=d)return Vb(a);var e=Wc(a);return function(b){for(var c=e.length,d=!1;c--&&(d=b[e[c]]===a[e[c]]););return d}}function Rb(a){return null==a?"":String(a).replace($c,r)}function Sb(a){return a}function Tb(a){Z(z(a),function(b){var c=e[b]=a[b];e.prototype[b]=function(){var a=[this.__wrapped__];Jc.apply(a,arguments);var b=c.apply(e,a);return this.__chain__?new f(b,!0):b}})}function Ub(){return wc._=Dc,this}function Vb(a){return function(b){return b[a]}}function Wb(a,b){return null==a&&null==b&&(b=1),a=+a||0,null==b?(b=a,a=0):b=+b||0,a+Hc(Sc()*(b-a+1))}function Xb(a,b){if(a){var c=a[b];return I(c)?a[b]():c}}function Yb(a,b,d){var f=e,g=f.templateSettings;a=String(a||""),d=y({},d,g);var h=0,i="__p += '",j=d.variable,k=RegExp((d.escape||jc).source+"|"+(d.interpolate||jc).source+"|"+(d.evaluate||jc).source+"|$","g");a.replace(k,function(b,d,e,f,g){return i+=a.slice(h,g).replace(kc,c),d&&(i+="' +\n_.escape("+d+") +\n'"),f&&(i+="';\n"+f+";\n__p += '"),e&&(i+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),h=g+b.length,b}),i+="';\n",j||(j="obj",i="with ("+j+" || {}) {\n"+i+"\n}\n"),i="function("+j+") {\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"+i+"return __p\n}";try{var l=Function("_","return "+i)(f)}catch(m){throw m.source=i,m}return b?l(b):(l.source=i,l)}function Zb(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=Array(a);for(b=i(b,c,1);++d<a;)e[d]=b(d);return e}function $b(a){return null==a?"":String(a).replace(Zc,u)}function _b(a){var b=++fc+"";return a?a+b:b}function ac(a){return a=new f(a),a.__chain__=!0,a}function bc(a,b){return b(a),a}function cc(){return this.__chain__=!0,this}function dc(){return this.__wrapped__}var ec,fc=0,gc={},hc=+new Date+"",ic=/<%=([\s\S]+?)%>/g,jc=/($^)/,kc=/['\n\r\t\u2028\u2029\\]/g,lc="[object Arguments]",mc="[object Array]",nc="[object Boolean]",oc="[object Date]",pc="[object Function]",qc="[object Number]",rc="[object Object]",sc="[object RegExp]",tc="[object String]",uc={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},vc={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},wc=uc[typeof window]&&window||this,xc=uc[typeof exports]&&exports&&!exports.nodeType&&exports,yc=uc[typeof module]&&module&&!module.nodeType&&module,zc=yc&&yc.exports===xc&&xc,Ac=uc[typeof global]&&global;!Ac||Ac.global!==Ac&&Ac.window!==Ac||(wc=Ac);var Bc=[],Cc=Object.prototype,Dc=wc._,Ec=Cc.toString,Fc=RegExp("^"+String(Ec).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Gc=Math.ceil,Hc=Math.floor,Ic=Cc.hasOwnProperty,Jc=Bc.push,Kc=Cc.propertyIsEnumerable,Lc=t(Lc=Object.create)&&Lc,Mc=t(Mc=Array.isArray)&&Mc,Nc=wc.isFinite,Oc=wc.isNaN,Pc=t(Pc=Object.keys)&&Pc,Qc=Math.max,Rc=Math.min,Sc=Math.random;f.prototype=e.prototype;var Tc={};!function(){var a={0:1,length:1};Tc.spliceObjects=(Bc.splice.call(a,0,1),!a[0])}(1),e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ic,variable:""},Lc||(h=function(){function a(){}return function(b){if(J(b)){a.prototype=b;var c=new a;a.prototype=null}return c||wc.Object()}}()),v(arguments)||(v=function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ic.call(a,"callee")&&!Kc.call(a,"callee")||!1});var Uc=Mc||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ec.call(a)==mc||!1},Vc=function(a){var b,c=a,d=[];if(!c)return d;if(!uc[typeof a])return d;for(b in c)Ic.call(c,b)&&d.push(b);return d},Wc=Pc?function(a){return J(a)?Pc(a):[]}:Vc,Xc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Yc=B(Xc),Zc=RegExp("("+Wc(Yc).join("|")+")","g"),$c=RegExp("["+Wc(Xc).join("")+"]","g"),_c=function(a,b){var c,d=a,e=d;if(!d)return e;if(!uc[typeof d])return e;for(c in d)if(b(d[c],c,a)===gc)return e;return e},ad=function(a,b){var c,d=a,e=d;if(!d)return e;if(!uc[typeof d])return e;for(c in d)if(Ic.call(d,c)&&b(d[c],c,a)===gc)return e;return e};I(/x/)&&(I=function(a){return"function"==typeof a&&Ec.call(a)==pc});var bd=p(function(a,b,c){Ic.call(a,c)?a[c]++:a[c]=1}),cd=p(function(a,b,c){(Ic.call(a,c)?a[c]:a[c]=[]).push(b)}),dd=p(function(a,b,c){a[c]=b}),ed=ab,fd=t(fd=Date.now)&&fd||function(){return(new Date).getTime()};e.after=Eb,e.bind=Fb,e.bindAll=Gb,e.chain=ac,e.compact=nb,e.compose=Hb,e.countBy=bd,e.debounce=Ib,e.defaults=y,e.defer=Jb,e.delay=Kb,e.difference=ob,e.filter=W,e.flatten=qb,e.forEach=Z,e.functions=z,e.groupBy=cd,e.indexBy=dd,e.initial=sb,e.intersection=tb,e.invert=B,e.invoke=_,e.keys=Wc,e.map=ab,e.max=bb,e.memoize=Lb,e.min=cb,e.omit=Q,e.once=Mb,e.pairs=R,e.partial=Nb,e.pick=S,e.pluck=ed,e.range=wb,e.reject=fb,e.rest=xb,e.shuffle=hb,e.sortBy=kb,e.tap=bc,e.throttle=Ob,e.times=Zb,e.toArray=lb,e.union=zb,e.uniq=Ab,e.values=T,e.where=mb,e.without=Bb,e.wrap=Pb,e.zip=Cb,e.collect=ab,e.drop=xb,e.each=Z,e.extend=w,e.methods=z,e.object=Db,e.select=W,e.tail=xb,e.unique=Ab,e.clone=x,e.contains=U,e.escape=Rb,e.every=V,e.find=X,e.has=A,e.identity=Sb,e.indexOf=rb,e.isArguments=v,e.isArray=Uc,e.isBoolean=C,e.isDate=D,e.isElement=E,e.isEmpty=F,e.isEqual=G,e.isFinite=H,e.isFunction=I,e.isNaN=K,e.isNull=L,e.isNumber=M,e.isObject=J,e.isRegExp=N,e.isString=O,e.isUndefined=P,e.lastIndexOf=vb,e.mixin=Tb,e.noConflict=Ub,e.random=Wb,e.reduce=db,e.reduceRight=eb,e.result=Xb,e.size=ib,e.some=jb,e.sortedIndex=yb,e.template=Yb,e.unescape=$b,e.uniqueId=_b,e.all=V,e.any=jb,e.detect=X,e.findWhere=Y,e.foldl=db,e.foldr=eb,e.include=U,e.inject=db,e.first=pb,e.last=ub,e.sample=gb,e.take=pb,e.head=pb,Tb(e),e.VERSION="2.4.1",e.prototype.chain=cc,e.prototype.value=dc,Z(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=Bc[a];e.prototype[a]=function(){var a=this.__wrapped__;return b.apply(a,arguments),Tc.spliceObjects||0!==a.length||delete a[0],this}}),Z(["concat","join","slice"],function(a){var b=Bc[a];e.prototype[a]=function(){var a=this.__wrapped__,c=b.apply(a,arguments);return this.__chain__&&(c=new f(c),c.__chain__=!0),c}}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(wc._=e,define(function(){return e})):xc&&yc?zc?(yc.exports=e)._=e:xc._=e:wc._=e}).call(this);var DrivePass=DrivePass||{};DrivePass.Browser={isChrome:function(){return/Chrome/.test(navigator.userAgent)},isFirefox:function(){return/Firefox/.test(navigator.userAgent)},sendToPage:function(a){var b=a||{};return 2!==Object.keys(b).length?!1:void(this.isChrome()&&chrome.tabs.getSelected(null,function(a){chrome.tabs.sendMessage(a.id,{password:b.password,username:b.username},function(a){console.log(a.dom)})}))},getActiveTab:function(a){this.isChrome()&&chrome.tabs.query({active:!0,lastFocusedWindow:!0},function(b){var c=b[0];this.activeTabUrl=utils.getHostname(c.url),"function"==typeof a&&a()}.bind(this))},oAuthSendRequest:function(a,b,c){if(this.isChrome()){var d=chrome.extension.getBackgroundPage();d.oauth.sendSignedRequest(a,b,c)}}};var DrivePass=DrivePass||{};DrivePass.GoogleSpreadsheet=function(){var a,b={},c=function(c,d){return 200!==d.status?(a={success:!1,message:d.status+": Connection Failed"},console.warn(d)):(a={success:!0,message:"spreadsheet successfully loaded"},a.sheetData=JSON.parse(c)),DrivePass.Signal.broadcast("gs_data_loaded",a),null!==b.cb&&b.cb(a),a},d=function(a){b.cb="function"==typeof a?a:null;var d={headers:{"GData-Version":"3.0"},parameters:{alt:"json",showfolders:"true"}};DrivePass.Browser.oAuthSendRequest(b.jsonListUrl,c,d)},e=function(a,c){b.cb="function"==typeof c?c:null;var d={method:"POST",headers:{"GData-Version":"3.0","Content-Type":"application/atom+xml"},body:f(a)};DrivePass.Browser.oAuthSendRequest(b.jsonListUrl,i,d)},f=function(a){for(var c='<entry xmlns="http://www.w3.org/2005/Atom" xmlns:gsx="http://schemas.google.com/spreadsheets/2006/extended">\n',d=b.columns,e=0;e<d.length;e++)c+="<gsx:"+d[e]+">"+a[e]+"</gsx:"+d[e]+">\n";return c+="</entry>"},g=function(a,c){var d="<entry xmlns='http://www.w3.org/2005/Atom' xmlns:gsx='http://schemas.google.com/spreadsheets/2006/extended' ";d+="xmlns:gd='http://schemas.google.com/g/2005' gd:etag='"+a.gd$etag+"'>\n",d+="<id>"+a.id.$t+"</id>\n",d+="<updated>"+a.updated.$t+"</updated>\n",d+='<category scheme="http://schemas.google.com/spreadsheets/2006" term="http://schemas.google.com/spreadsheets/2006#list"/>\n',d+="<title type='text'>"+a.title.$t+"</title>\n",d+="<content type='text'>"+a.content.$t+"</content>\n",d+='<link rel="self" type="application/atom+xml" href="'+a.link[0].href+'"/>\n',d+='<link rel="edit" type="application/atom+xml" href="'+a.link[1].href+'"/>\n';for(var e=b.columns,f=0;f<e.length;f++)d+="<gsx:"+e[f]+">"+c[f]+"</gsx:"+e[f]+">\n";return d+="</entry>"},h=function(a,c,d){b.cb="function"==typeof d?d:null;var e={method:"PUT",headers:{"GData-Version":"3.0","Content-Type":"application/atom+xml","if-match":"*"},body:g(a,c)};DrivePass.Browser.oAuthSendRequest(a.link[1].href,j,e)},i=function(c,d){return 201!==d.status?(a={success:!1,message:d.status+": error saving"},console.warn(d)):a={success:!0,message:"saved successfully"},DrivePass.Signal.broadcast("gs_data_added",a),null!==b.cb&&b.cb(a),a},j=function(c,d){return 200!==d.status?(a={success:!1,message:d.status+": error updating"},console.warn(d)):a={success:!0,message:"update successful"},DrivePass.Signal.broadcast("gs_data_updated",a),null!==b.cb&&b.cb(a),a},k=function(a){if(b=a||{},"string"!=typeof b.sheet_url||"object"!=typeof b.columns)throw new Error("Missing sheet_url or columns from init options");var c,d,e=b.sheet_url;if(e.match(/http(s)*:/)){c=e;try{d=c.match(/key=(.*?)(&|#)/)[1]}catch(f){d=c.match(/(cells|list)\/(.*?)\//)[2]}}else d=e;return b.jsonListUrl="https://spreadsheets.google.com/feeds/list/"+d+"/od6/private/full",b.jsonCellsUrl="https://spreadsheets.google.com/feeds/cells/"+d+"/od6/private/basic",this};return{init:k,load:d,add:e,update:h}};var DrivePass=DrivePass||{};DrivePass.Generator=function(){var a=document.getElementById("uppercase"),b=document.getElementById("lowercase"),c=document.getElementById("numbers"),d=document.getElementById("show_symbols"),e=document.getElementById("symbols"),f=document.getElementById("pw"),g=function(){var f="",g=0,h="",i=document.getElementById("digits").value||15;if(2>i&&(i=7),[a,b,c].forEach(function(a){if(a.checked===!0){h+=a.value;var b=a.value.length;f+=a.value.charAt(Math.floor(Math.random()*b)),g++}}),d.checked===!0){h+=e.value;var j=e.value.length;f+=e.value.charAt(Math.floor(Math.random()*j)),g++}return[i,h,f,g]},h=function(a){a.preventDefault();for(var b=g(),c=b[0]-b[3],d=b[1],e="",h=0,i=d.length;c>h;++h)e+=d.charAt(Math.floor(Math.random()*i));return e+=b[2],f.textContent=e,f.className="generated",!0},i=function(){document.getElementById("makePassword").addEventListener("click",h,!1)};return{init:i}};var DrivePass=DrivePass||{};DrivePass.Popup=function(){var a,b=document.getElementById("loading"),c=document.getElementById("status"),d=document.getElementById("un"),e=document.getElementById("pw"),f=document.getElementById("add"),g=document.getElementById("update"),h=document.getElementById("theInfo"),i=document.getElementById("hdnSite"),j=JSON.parse(localStorage.getItem("_data")),k=JSON.parse(localStorage.getItem("_full")),l=new DrivePass.GoogleSpreadsheet;l.init(DrivePass.Settings.gs_sheet_init);var m=function(a,b){var c=a||{};if(Object.keys(c).length){for(var d in c)if(-1!==b.indexOf(c[d].site)){var e=[];return e.push(c[d].username,c[d].password,c[d].site),e}}else console.warn("findPW: data not an object")},n=function(a){var b=a||{},c=0,d={},e=b.feed.entry,f=DrivePass.Settings.gs_sheet_init.columns;for(var g in e){d[c]={};for(var h=0;h<f.length;h++){var i="gsx$"+f[h];d[c][f[h]]=e[g][i].$t}c++}return d},o=function(a,b){var d=a||"",e=b||"";""!==d&&""!==e&&(c.textContent=e,c.className=d,c.style.display="block")},p=function(a){b.style.display="none",o("success","password found"),d.textContent=a[0],e.textContent=a[1],i.value=a[2],DrivePass.Browser.sendToPage({username:a[0],password:a[1]}),f.classList.remove("show"),g.classList.add("show")},q=function(){b.style.display="none",o("error","password not found"),utils.toggle(h)},r=function(){f.addEventListener("click",function(){var b=document.getElementById("un").textContent,c=document.getElementById("pw").textContent,d=[a,b,c];l.add(d,function(a){a.success===!1?o("error",a.message):(o("success",a.message),v())})},!1)},s=function(){g.addEventListener("click",function(){var a=i.value,b=t(a),c=document.getElementById("un").textContent,d=document.getElementById("pw").textContent,e=[a,c,d];l.update(b,e,function(a){a.success===!1?o("error",a.message):(o("success",a.message),v())})},!1)},t=function(a){var b=k.sheetData;for(var c in b.feed.entry)if(b.feed.entry[c].gsx$site.$t===a)return b.feed.entry[c]},u=function(){a=DrivePass.Browser.activeTabUrl;var b=m(j,a);"undefined"==typeof b?q():p(b)},v=function(a){l.load(function(b){localStorage.setItem("_full",JSON.stringify(b)),b.success===!0&&(j=n(b.sheetData),localStorage.setItem("_data",JSON.stringify(j)),"function"==typeof a&&DrivePass.Browser.getActiveTab(u))})},w=function(){null===j?v(function(){DrivePass.Browser.getActiveTab(u)}):DrivePass.Browser.getActiveTab(u),r(),s()};return{init:w}};var DrivePass=DrivePass||{};DrivePass.Router=function(){function a(a){this.methods=a,this.process()}return a.prototype.process=function(){this.methods.universal();var a=document.body.dataset.route;if("undefined"!=typeof a){var b=this.methods[a];"function"==typeof b&&b()}},a}();var DrivePass=DrivePass||{};DrivePass.Signal=function(){"use strict";var a={},b=-1,c=function(c,d){a[c]||(a[c]=[]);var e=(++b).toString();return a[c].push({token:e,func:d}),e},d=function(b,c){return a[b]?(setTimeout(function(){for(var d=a[b],e=d?d.length:0;e--;)d[e].func(b,c)},0),!0):!1},e=function(b){for(var c in a)if(a[c])for(var d=0,e=a[c].length;e>d;d++)if(a[c][d].token===b)return a[c].splice(d,1),b;return!1};return{broadcast:d,listen:c,off:e}}();var utils={toggle:function(a){a.classList.contains("show")?a.classList.remove("show"):a.classList.add("show")},toggler:function(a,b){var c=this,d=document.getElementById(b);document.getElementById(a).addEventListener("click",function(){c.toggle(d)},!1)},getHostname:function(a){var b=a||"",c=document.createElement("a");return""!==b?(c.href=b,c.hostname):(console.warn("url undefined"),!1)},addslashes:function(a){return(a+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},getJSON:function(a,b,c){var d,e=new XMLHttpRequest,f=function(){console.log("")},g="function"==typeof b?b:f,h="function"==typeof c?c:f;e.open("GET",a,!1),e.onload=function(){e.status>=200&&e.status<400?(d=JSON.parse(e.responseText),g(d)):h()},e.onerror=function(){h()},e.send(null)}},DrivePass=DrivePass||{};DrivePass.ext=new DrivePass.Router({universal:function(){DrivePass.Settings=JSON.parse(localStorage.getItem("options"))||{},DrivePass.Settings.keeplocal=DrivePass.Settings.keeplocal||!0,DrivePass.Settings.route=document.body.dataset.route,DrivePass.Settings.gs_sheet_init={sheet_url:localStorage.getItem("sheet_url"),columns:["site","username","password"]}},popup:function(){var a=function(){utils.toggler("showGPoptions","gpOptions"),utils.toggler("showInfo","theInfo"),utils.toggler("show_symbols","hidden_symbols")},b=new DrivePass.Popup,c=new DrivePass.Generator;document.addEventListener("DOMContentLoaded",function(){this.bDone||(this.bDone=!0,c.init(),b.init(),a())})},chrome_options:function(){function a(){var a=document.getElementById("sheet_url").value;localStorage.setItem("sheet_url",a),DrivePass.Settings.gs_sheet_init.sheet_url=a,c.init(DrivePass.Settings.gs_sheet_init),DrivePass.Signal.listen("gs_data_loaded",function(a,b){localStorage.setItem("_data",JSON.stringify(b))}),c.load(),document.getElementById("status").textContent="Options Saved."}function b(){var a=localStorage.getItem("sheet_url");if(null===a||""===a)return!1;document.getElementById("sheet_url").value=a,document.getElementById("save").textContent="update";var b=document.getElementById("goToSheet");b.href=a,b.style.display="block"}var c=new DrivePass.GoogleSpreadsheet;utils.toggler("inst_link","instructions"),document.addEventListener("DOMContentLoaded",b),document.getElementById("save").addEventListener("click",a)}});